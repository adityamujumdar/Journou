{% extends 'base.html' %}

{% block title %}
  Journou Account
{% endblock %}

{% block body %}
<div class="container-fluid w-50 pt-5">
<div class="card text-dark bg-light mb-3 mx-auto ps-2 pe-0 pt-2 pb-2">
	<div class="row">
		<div class="col-md-4">
			<img class="rounded-circle account-img img-fluid float-left me-3" src={{image_file}}>
		</div>
		<div class="col-md-8">
			<div class="card-body">
				<h3 class="card-title">
					{{ current_user.username }}
				</h3>
          		<p class="pt-2">{{ current_user.email }}</p>
          		<p class="">{{ current_user.university }}</p>
			</div>
		</div>
	</div>
</div>
<div class="card text-dark bg-light mb-3 mx-auto ps-0 pe-0 pt-2 pb-2">
	<div class="container-fluid">
					<form method="POST" action="", enctype="multipart/form-data">
			            {{ form.hidden_tag() }}
			            <fieldset class="form-group">
			                <legend class="border-bottom mb-2">Update Journou Account Info
			                </legend>
			                <div class="form-group">
			                    {{ form.username.label(class="form-control-label") }}
			                    {% if form.username.errors %}
			                        {{ form.username(class="form-control form-control-sm is-invalid") }}
			                        <div class="invalid-feedback">
			                            {% for error in form.username.errors %}
			                                <span>{{ error }}</span>
			                            {% endfor %}
			                        </div>
			                    {% else %}
			                        {{ form.username(class="form-control form-control-sm") }}
			                    {% endif %}
			                </div>
			                <div class="form-group">
			                    {{ form.email.label(class="form-control-label") }}
			                    {% if form.email.errors %}
			                        {{ form.email(class="form-control form-control-sm is-invalid") }}
			                        <div class="invalid-feedback">
			                            {% for error in form.email.errors %}
			                                <span>{{ error }}</span>
			                            {% endfor %}
			                        </div>
			                    {% else %}
			                        {{ form.email(class="form-control form-control-sm") }}
			                    {% endif %}
			                </div>
			                <div class="form-group">
			                    {{ form.university.label(class="form-control-label") }}

			                    {% if form.university.errors %}
			                        {{ form.university(class="form-control form-control-sm is-invalid") }}
			                        <div class="invalid-feedback">
			                            {% for error in form.university.errors %}
			                                <span>{{ error }}</span>
			                            {% endfor %}
			                        </div>
			                    {% else %}
			                        {{ form.university(class="form-control form-control-sm") }}
			                    {% endif %}
			                </div>
			                <div class="form-group mt-1">
			                    {{ form.image.label()}}
			                    {{ form.image(class="form-control-file") }}
			                    {% if form.image.errors %}
			                    	{% for error in form.image.errors %}
			                                <br><small class="text-danger">{{ error }}</small> <br>
		                            {% endfor %}
			                    {% endif%}
			                </div>
			            </fieldset>
			            <div class="form-group sm-4 pt-2 col-sm-offset-4 d-grid gap-2">
			                {{ form.submit(class="btn btn-dark") }}
			            </div>
			            <small>Journou will never share your data with anyone</small>
			        </form>
		        </div>
</div>
</div>
{% endblock %}
